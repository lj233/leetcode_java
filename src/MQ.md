## 分布式事务

保证不同数据库的一致性，需要发送确认消息，提供方会监听

### 为啥要用

解耦、异步、消峰

### 高可用

集群 2m2s

### 不丢失

发送，确认

### 幂等性（不被重复消费）

加一个主键Id，判断状态

### 顺序性
全局消息： provider：broker：consumer = 1:1:1
局部消息：可按照订单号排列加锁  加字段锁

### 分布式事务实现

消费方消费后，发送确认信息
否则提供方定时扫描未完成的。

## 学习资源 

[rocketmq](https://github.com/DillonDong/notes/tree/master/RocketMQ)